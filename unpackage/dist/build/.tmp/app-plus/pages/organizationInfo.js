(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/organizationInfo"],{"0968":function(e,t,n){"use strict";n.r(t);var a=n("1ab0"),s=n("70db");for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);n("e3f5");var i=n("2877"),u=Object(i["a"])(s["default"],a["a"],a["b"],!1,null,null,null);t["default"]=u.exports},"1ab0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s})},"70db":function(e,t,n){"use strict";n.r(t);var a=n("7f07"),s=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=s.a},"7bd0":function(e,t,n){},"7f07":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return n.e("components/item-card").then(n.bind(null,"133b"))},s=function(){return n.e("components/uni-popup").then(n.bind(null,"5886"))},o={components:{itemCard:a,uniPopup:s},data:function(){return{avatar:getApp().globalData.avatar,organizationInfo:{},accountInfo:e.getStorageSync("accountInfo"),inputValue:{message:"",cipher:""},messageFlag:!1,followFlag:!1,applyFlag:!1,userId:"",userType:""}},onLoad:function(t){var n=this;this.userId=t.userId,this.userType=t.type,e.apiRequest("/api/User/user_info",{data:{user_id:t.userId,type:3},success:function(e){n.organizationInfo=e.data.result}})},methods:{inputState:function(e){this.inputValue[e.currentTarget.dataset.type]=e.detail.value},openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.$refs[e].close()},confirm:function(t){var n=this;switch(t){case"leavingMessage":if(this.messageFlag)return;this.messageFlag=!0,e.apiRequest("/api/User/leavingAdd",{data:{user_id:this.userId,type:this.userType,content:this.inputValue.message},success:function(t){return e.showToast({title:t.data.msg,icon:200==t.data.code?"success":"none",success:function(e){n.closePopup("leavingMessage"),n.messageFlag=!1}})}});break;case"apply":if(this.applyFlag)return;this.applyFlag=!0,e.apiRequest("/api/User/comeAdd",{data:{organization_id:this.userId,answer:this.inputValue.cipher},success:function(t){return e.showToast({title:t.data.msg,icon:200==t.data.code?"success":"none",success:function(e){n.closePopup("apply"),n.applyFlag=!1}})}});break;case"follow":if(this.followFlag)return;this.followFlag=!0,e.apiRequest("/api/Dynamic/follow",{data:{user_id:this.userId,type:this.userType,is_follow:Number(!this.organizationInfo.is_follow)},success:function(t){e.showToast({title:t.data.msg,icon:200==t.data.code?"success":"none",success:function(e){200==t.data.code&&(n.followFlag=!1,n.organizationInfo.is_follow=Number(!n.organizationInfo.is_follow))}})}});break}}}};t.default=o}).call(this,n("6e42")["default"])},e3f5:function(e,t,n){"use strict";var a=n("7bd0"),s=n.n(a);s.a},ebfc:function(e,t,n){"use strict";(function(e){n("ae81"),n("921b");a(n("66fd"));var t=a(n("0968"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])}},[["ebfc","common/runtime","common/vendor"]]]);